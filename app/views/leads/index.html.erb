<div class="">
    <%= link_to "Search Leads", search_leads_path, class: "inline-flex items-center rounded-md bg-teal-600 px-4 py-2 text-white hover:bg-teal-700", data: { turbo_frame: "dialog_content", action: "dialog#openAsSlideOver" } %>
</div>
<div class="flex items-center justify-between mb-6">
  <h1 class="text-2xl font-semibold text-gray-900">Leads</h1>
  <%= link_to "New lead",
              new_lead_path,
              class: "inline-flex items-center rounded-md bg-teal-600 px-4 py-2 text-white hover:bg-teal-700" %>
</div>

<% if @leads.any? %>
  <div class="overflow-x-auto bg-white shadow-sm ring-1 ring-gray-200 rounded-lg">
    <table class="min-w-full divide-y divide-gray-200">
      <thead class="bg-gray-50">
        <tr>
          <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Name</th>
          <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Email</th>
          <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Phone</th>
          <th scope="col" class="py-3.5 pl-3 pr-4 sm:pr-6 text-right text-sm font-semibold text-gray-900">Actions</th>
        </tr>
      </thead>

      <tbody class="divide-y divide-gray-200 bg-white">
        <% @leads.each do |lead| %>
          <tr class="hover:bg-gray-50">
            <!-- Name -->
            <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-900">
              <%= link_to (lead.name.presence || "—"),
                          lead_path(lead),
                          class: "text-teal-700 hover:underline" %>
            </td>

            <!-- Email -->
            <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-700">
              <%= lead.email.present? ? mail_to(lead.email) : "—" %>
            </td>

            <!-- Phone -->
            <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-700">
              <%= lead.phone.presence || "—" %>
            </td>

            <!-- Actions -->
            <td class="whitespace-nowrap py-4 pl-3 pr-4 text-sm text-right sm:pr-6">
              <div class="inline-flex items-center gap-1">
                <%= link_to "Show",
                            lead_path(lead),
                            class: "px-2 py-1 rounded-md text-gray-700 hover:bg-gray-100" %>

                <%= link_to "Edit",
                            edit_lead_path(lead),
                            class: "px-2 py-1 rounded-md text-teal-700 hover:bg-teal-50" %>

                <%= button_to "Delete",
                              lead_path(lead),
                              method: :delete,
                              data: { turbo_confirm: "Are you sure?" },
                              form: { class: "inline" },
                              class: "px-2 py-1 rounded-md text-red-700 hover:bg-red-50" %>
              </div>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
<% else %>
  <!-- Empty state -->
  <div class="rounded-lg border border-dashed border-gray-300 p-12 text-center">
    <h3 class="mt-2 text-sm font-semibold text-gray-900">No leads</h3>
    <p class="mt-1 text-sm text-gray-500">Get started by creating your first lead.</p>
    <div class="mt-6">
      <%= link_to "New lead",
                  new_lead_path,
                  class: "inline-flex items-center rounded-md bg-teal-600 px-4 py-2 text-white hover:bg-teal-700" %>
    </div>
  </div>
<% end %>
